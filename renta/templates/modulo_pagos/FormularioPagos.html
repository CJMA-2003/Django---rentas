{% extends 'base.html' %}

{% block title %}Registrar Nuevo Pago{% endblock %}

{% block content %}
<div class="container-fluid" style="margin-top: 40px;">
    <div class="row">

        <!-- Imagen izquierda -->
        <div class="col-md-3 hidden-sm hidden-xs text-center">
            <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
                 alt="Pago izquierda"
                 style="max-width:100%; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        </div>

        <!-- Formulario centrado -->
        <div class="col-md-6">
            <div class="well" style="
                background: #fff;
                border-radius: 10px;
                padding: 30px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            ">
                <!-- Título -->
                <h3 class="text-center" style="margin-bottom: 25px; font-weight: bold; color: #2c3e50;">
                    <i class="glyphicon glyphicon-usd"></i> {% if tipo_form == 'editar' %}Editar{% else %}Registrar{% endif %} Pago
                </h3>

                <!-- Formulario -->
                <form method="POST"
                      action="{% if tipo_form == 'editar' %}{% url 'editar_pago' pago.id %}{% else %}{% url 'crear_pago' %}{% endif %}">
                    {% csrf_token %}

                    <!-- Selección de Inquilino -->
                    <div class="form-group">
                        <label for="inquilino" style="font-weight: 600;">Inquilino</label>
                        <select name="inquilino" id="inquilino" class="form-control input-lg" required>
                            <option value="">-- Selecciona un inquilino --</option>
                            {% for inquilino in inquilinos %}
                                <option value="{{ inquilino.id }}"
                                    {% if pago.inquilino.id == inquilino.id %}selected{% endif %}>
                                    {{ inquilino.nombre }} - {{ inquilino.casa.nombre }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>

                    <!-- Fecha -->
                    <div class="form-group">
                        <label for="fecha" style="font-weight: 600;">Fecha</label>
                        <input type="date" name="fecha" id="fecha" class="form-control input-lg"
                               required value="{{ pago.fecha|default:'' }}">
                    </div>

                    <!-- Monto -->
                    <div class="form-group">
                        <label for="monto" style="font-weight: 600;">Monto ($)</label>
                        <input type="number" name="monto" id="monto" class="form-control input-lg"
                               min="0" step="0.01" required value="{{ pago.monto|default:'' }}">
                    </div>

                    <!-- Descripción -->
                    <div class="form-group">
                        <label for="descripcion" style="font-weight: 600;">Descripción</label>
                        <textarea name="descripcion" id="descripcion" class="form-control input-lg"
                                  placeholder="Opcional">{{ pago.descripcion|default:'' }}</textarea>
                    </div>

                    <!-- Botones -->
                    <div class="text-center" style="margin-top: 25px;">
                        <a href="{% url 'modulo_pago' %}" class="btn btn-default btn-lg" style="margin-right: 10px;">
                            <i class="glyphicon glyphicon-remove"></i> Cancelar
                        </a>
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="glyphicon glyphicon-floppy-disk"></i> Guardar
                        </button>
                    </div>

                </form>
            </div>
        </div>

        <!-- Imagen derecha -->
        <div class="col-md-3 hidden-sm hidden-xs text-center">
            <img src="https://images.unsplash.com/photo-1581091012184-7aa2cbeef3f6"
                 alt="Pago derecha"
                 style="max-width:100%; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        </div>

    </div>
</div>
{% endblock %}
